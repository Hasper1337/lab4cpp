# Создание библиотек
### Статические
Для создания статических библиотек применялся следующий метод:
1) Компиляция файлов (Пример: `g++ -c src/StringInstrument.cpp -o build/StringInstrument.o`), скомпилируя все файлы проекта
с определениями классов получаем объектные файлы с расширением `*.o`
2) Затем используя все эти файлы с расширением `*.o` используем в терминале программу `ar` (archiver) для создания библиотеки
 (Пример: `ar rc build/liblab4.a build/MusicalInstrument.o`)\
`r:` Заменяет (или добавляет) объектные файлы в архив, если они есть/отсутствуют.\
`c:` Создаёт архив, если он ещё не существует.
3) Так же добавим к архиву `liblab4.a` индекс символов, т.е. список вложенных в библиотеку функций и переменных, выполняется это следующим образом `ranlib liblab4.a`
4) В результате работы получается статическая библиотека `liblab4.a`

Сборка для статической библиотеки и тесто происходит через следующую команду в терминале `g++ test/test_static.cpp build/liblab4.a -o build/test_static`, для запуска следует выполнить `./build/test_static`

[Источник](https://firststeps.ru/linux/r.php?5)

### Динамические
Создание динамической библиотеки отличается от статической и имеет следующий метод создания:
1) Компиляция файлов `g++ -fPIC -c src/StringInstrument.cpp`, но этот этап можно пропустить, об этом ниже\
    `-fPIC` - позиционно-независимый код (Position-Independent Code)
2) Для того, чтобы создать динамическую библиотеку надо использовать ключ -shared: `g++ -shared -o liblab4.so StringInstrument.o MusicalInstrument.o`, так же есть и второй способ объединяющий 1-й и 2-й этапы и выглядит он следующим образом `g++ -shared -fPIC src/*.cpp -o build/liblab4.so`, я выполню именно этим способом
3) 
